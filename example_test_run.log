
PLAY [AWS MultiAZ VPC Web Cluster] **********************************************************************************************************************************************************************************************************

TASK [include_vars] *************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [Creating MultAZ VPC - [Zone A/B/C]] ***************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Setting VPC ID - [Thats a Fact] :p] ***************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [Creating Private Subnet - [Zone A]] ***************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Private Subnet - [Zone B]] ***************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Private Subnet - [Zone C]] ***************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Public Subnet - [Zone A]] ****************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Public Subnett - [Zone B]] ***************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Public Subnett - [Zone C]] ***************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Internet Gateway 1/1 for VPC] ************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating NAT Gateway 1/3 + EIP - [Zone A]] ********************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating NAT Gateway 2/3 + EIP - [Zone B]] ********************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating NAT Gateway 3/3 + EIP - [Zone C]] ********************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Set up public subnet route table] *****************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Private Subnet Route Table Using NAT-GW - [Zone A]] **************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Private Subnet Route Table Using NAT-GW - [Zone B]] **************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating Private Subnet Route Table Using NAT-GW - [Zone C]] **************************************************************************************************************************************************************************
changed: [localhost]

PLAY [Creating ALB and Web Instances] *******************************************************************************************************************************************************************************************************

TASK [include_vars] *************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [Creating Operations Security Group] ***************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating ALB Security Group] **********************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating EC2 Web Security Group] ******************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Creating EC2 instance - [web-01] - [Zone A]] ******************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Waiting for [web-01] to appear on the network] ****************************************************************************************************************************************************************************************
ok: [localhost] => (item={u'ramdisk': None, u'kernel': None, u'root_device_type': u'ebs', u'private_dns_name': u'ip-10-0-50-29.us-east-2.compute.internal', u'block_device_mapping': {u'/dev/sda1': {u'status': u'attached', u'delete_on_termination': True, u'volume_id': u'vol-0edd62eab53a24e2a'}}, u'key_name': u'sky-production-key', u'public_ip': u'18.224.52.109', u'image_id': u'ami-0986c2ac728528ac2', u'tenancy': u'default', u'private_ip': u'10.0.50.29', u'groups': {u'sg-0151fc83d20a81ed5': u'web-ec2-access', u'sg-0f4147a903812182c': u'ops-ec2-access'}, u'public_dns_name': u'ec2-18-224-52-109.us-east-2.compute.amazonaws.com', u'state_code': 16, u'id': u'i-04e8141eed7f46890', u'tags': {u'Name': u'sky-web-01'}, u'placement': u'us-east-2a', u'ami_launch_index': u'0', u'dns_name': u'ec2-18-224-52-109.us-east-2.compute.amazonaws.com', u'region': u'us-east-2', u'ebs_optimized': False, u'launch_time': u'2019-07-25T23:07:17.000Z', u'instance_type': u't2.nano', u'state': u'running', u'architecture': u'x86_64', u'hypervisor': u'xen', u'virtualization_type': u'hvm', u'root_device_name': u'/dev/sda1'})

TASK [Adding [web-01] ip addresses to hosts group] ******************************************************************************************************************************************************************************************
changed: [localhost] => (item={u'ramdisk': None, u'kernel': None, u'root_device_type': u'ebs', u'private_dns_name': u'ip-10-0-50-29.us-east-2.compute.internal', u'block_device_mapping': {u'/dev/sda1': {u'status': u'attached', u'delete_on_termination': True, u'volume_id': u'vol-0edd62eab53a24e2a'}}, u'key_name': u'sky-production-key', u'public_ip': u'18.224.52.109', u'image_id': u'ami-0986c2ac728528ac2', u'tenancy': u'default', u'private_ip': u'10.0.50.29', u'groups': {u'sg-0151fc83d20a81ed5': u'web-ec2-access', u'sg-0f4147a903812182c': u'ops-ec2-access'}, u'public_dns_name': u'ec2-18-224-52-109.us-east-2.compute.amazonaws.com', u'state_code': 16, u'id': u'i-04e8141eed7f46890', u'tags': {u'Name': u'sky-web-01'}, u'placement': u'us-east-2a', u'ami_launch_index': u'0', u'dns_name': u'ec2-18-224-52-109.us-east-2.compute.amazonaws.com', u'region': u'us-east-2', u'ebs_optimized': False, u'launch_time': u'2019-07-25T23:07:17.000Z', u'instance_type': u't2.nano', u'state': u'running', u'architecture': u'x86_64', u'hypervisor': u'xen', u'virtualization_type': u'hvm', u'root_device_name': u'/dev/sda1'})

TASK [Creating EC2 instance - [web-02] - [Zone A]] ******************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Waiting for the [web-02] to appear on the network] ************************************************************************************************************************************************************************************
ok: [localhost] => (item={u'ramdisk': None, u'kernel': None, u'root_device_type': u'ebs', u'private_dns_name': u'ip-10-0-51-103.us-east-2.compute.internal', u'block_device_mapping': {u'/dev/sda1': {u'status': u'attached', u'delete_on_termination': True, u'volume_id': u'vol-09ab29306df66bec6'}}, u'key_name': u'sky-production-key', u'public_ip': u'52.15.82.79', u'image_id': u'ami-0986c2ac728528ac2', u'tenancy': u'default', u'private_ip': u'10.0.51.103', u'groups': {u'sg-0151fc83d20a81ed5': u'web-ec2-access', u'sg-0f4147a903812182c': u'ops-ec2-access'}, u'public_dns_name': u'ec2-52-15-82-79.us-east-2.compute.amazonaws.com', u'state_code': 16, u'id': u'i-0086bd1383063aa9e', u'tags': {u'Name': u'sky-web-02'}, u'placement': u'us-east-2b', u'ami_launch_index': u'0', u'dns_name': u'ec2-52-15-82-79.us-east-2.compute.amazonaws.com', u'region': u'us-east-2', u'ebs_optimized': False, u'launch_time': u'2019-07-25T23:07:55.000Z', u'instance_type': u't2.nano', u'state': u'running', u'architecture': u'x86_64', u'hypervisor': u'xen', u'virtualization_type': u'hvm', u'root_device_name': u'/dev/sda1'})

TASK [Adding [web-02] ip addresses to hosts group] ******************************************************************************************************************************************************************************************
changed: [localhost] => (item={u'ramdisk': None, u'kernel': None, u'root_device_type': u'ebs', u'private_dns_name': u'ip-10-0-51-103.us-east-2.compute.internal', u'block_device_mapping': {u'/dev/sda1': {u'status': u'attached', u'delete_on_termination': True, u'volume_id': u'vol-09ab29306df66bec6'}}, u'key_name': u'sky-production-key', u'public_ip': u'52.15.82.79', u'image_id': u'ami-0986c2ac728528ac2', u'tenancy': u'default', u'private_ip': u'10.0.51.103', u'groups': {u'sg-0151fc83d20a81ed5': u'web-ec2-access', u'sg-0f4147a903812182c': u'ops-ec2-access'}, u'public_dns_name': u'ec2-52-15-82-79.us-east-2.compute.amazonaws.com', u'state_code': 16, u'id': u'i-0086bd1383063aa9e', u'tags': {u'Name': u'sky-web-02'}, u'placement': u'us-east-2b', u'ami_launch_index': u'0', u'dns_name': u'ec2-52-15-82-79.us-east-2.compute.amazonaws.com', u'region': u'us-east-2', u'ebs_optimized': False, u'launch_time': u'2019-07-25T23:07:55.000Z', u'instance_type': u't2.nano', u'state': u'running', u'architecture': u'x86_64', u'hypervisor': u'xen', u'virtualization_type': u'hvm', u'root_device_name': u'/dev/sda1'})

TASK [Creating EC2 instance - [web-03] - [Zone B]] ******************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Waiting for the [web-03] to appear on the network] ************************************************************************************************************************************************************************************
ok: [localhost] => (item={u'ramdisk': None, u'kernel': None, u'root_device_type': u'ebs', u'private_dns_name': u'ip-10-0-52-118.us-east-2.compute.internal', u'block_device_mapping': {u'/dev/sda1': {u'status': u'attached', u'delete_on_termination': True, u'volume_id': u'vol-008a95c3f295560ae'}}, u'key_name': u'sky-production-key', u'public_ip': u'18.222.149.39', u'image_id': u'ami-0986c2ac728528ac2', u'tenancy': u'default', u'private_ip': u'10.0.52.118', u'groups': {u'sg-0151fc83d20a81ed5': u'web-ec2-access', u'sg-0f4147a903812182c': u'ops-ec2-access'}, u'public_dns_name': u'ec2-18-222-149-39.us-east-2.compute.amazonaws.com', u'state_code': 16, u'id': u'i-0dc56fccb7074e8d4', u'tags': {u'Name': u'sky-web-03'}, u'placement': u'us-east-2c', u'ami_launch_index': u'0', u'dns_name': u'ec2-18-222-149-39.us-east-2.compute.amazonaws.com', u'region': u'us-east-2', u'ebs_optimized': False, u'launch_time': u'2019-07-25T23:08:36.000Z', u'instance_type': u't2.nano', u'state': u'running', u'architecture': u'x86_64', u'hypervisor': u'xen', u'virtualization_type': u'hvm', u'root_device_name': u'/dev/sda1'})

TASK [Adding [web-03] ip addresses to hosts group] ******************************************************************************************************************************************************************************************
changed: [localhost] => (item={u'ramdisk': None, u'kernel': None, u'root_device_type': u'ebs', u'private_dns_name': u'ip-10-0-52-118.us-east-2.compute.internal', u'block_device_mapping': {u'/dev/sda1': {u'status': u'attached', u'delete_on_termination': True, u'volume_id': u'vol-008a95c3f295560ae'}}, u'key_name': u'sky-production-key', u'public_ip': u'18.222.149.39', u'image_id': u'ami-0986c2ac728528ac2', u'tenancy': u'default', u'private_ip': u'10.0.52.118', u'groups': {u'sg-0151fc83d20a81ed5': u'web-ec2-access', u'sg-0f4147a903812182c': u'ops-ec2-access'}, u'public_dns_name': u'ec2-18-222-149-39.us-east-2.compute.amazonaws.com', u'state_code': 16, u'id': u'i-0dc56fccb7074e8d4', u'tags': {u'Name': u'sky-web-03'}, u'placement': u'us-east-2c', u'ami_launch_index': u'0', u'dns_name': u'ec2-18-222-149-39.us-east-2.compute.amazonaws.com', u'region': u'us-east-2', u'ebs_optimized': False, u'launch_time': u'2019-07-25T23:08:36.000Z', u'instance_type': u't2.nano', u'state': u'running', u'architecture': u'x86_64', u'hypervisor': u'xen', u'virtualization_type': u'hvm', u'root_device_name': u'/dev/sda1'})

PLAY [Injecting Nginx to -[web-01]] *********************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************************
ok: [18.224.52.109]

TASK [web1 : Installing nginx - [web-01]] ***************************************************************************************************************************************************************************************************
changed: [18.224.52.109]

TASK [web1 : Upload index.html - [web-01]] **************************************************************************************************************************************************************************************************
changed: [18.224.52.109]

TASK [web1 : Upload Images - [web-01]] ******************************************************************************************************************************************************************************************************
changed: [18.224.52.109]

RUNNING HANDLER [web1 : start nginx] ********************************************************************************************************************************************************************************************************
ok: [18.224.52.109]

PLAY [Injecting Nginx to -[web-02]] *********************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************************
ok: [52.15.82.79]

TASK [web2 : Installing nginx - [web-02]] ***************************************************************************************************************************************************************************************************
changed: [52.15.82.79]

TASK [web2 : Upload index.html - [web-02]] **************************************************************************************************************************************************************************************************
changed: [52.15.82.79]

TASK [web2 : Upload Images - [web-02]] ******************************************************************************************************************************************************************************************************
changed: [52.15.82.79]

RUNNING HANDLER [web2 : start nginx] ********************************************************************************************************************************************************************************************************
ok: [52.15.82.79]

PLAY [Injecting Nginx to -[web-03]] *********************************************************************************************************************************************************************************************************

TASK [Gathering Facts] **********************************************************************************************************************************************************************************************************************
ok: [18.222.149.39]

TASK [web3 : Installing nginx - [web-03]] ***************************************************************************************************************************************************************************************************
changed: [18.222.149.39]

TASK [web3 : Upload index.html - [web-03]] **************************************************************************************************************************************************************************************************
changed: [18.222.149.39]

TASK [web3 : Upload Images - [web-03]] ******************************************************************************************************************************************************************************************************
changed: [18.222.149.39]

RUNNING HANDLER [web3 : start nginx] ********************************************************************************************************************************************************************************************************
ok: [18.222.149.39]

PLAY [Creating Application LoadBalancer + Targets - [ALB-TARGETS]] **************************************************************************************************************************************************************************

TASK [include_vars] *************************************************************************************************************************************************************************************************************************
ok: [localhost]

TASK [Creating Targets] *********************************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [elb_application_lb] *******************************************************************************************************************************************************************************************************************
changed: [localhost]

TASK [Adding [ALB] entry into DNS [ROUTE53]] ************************************************************************************************************************************************************************************************
changed: [localhost]

PLAY RECAP **********************************************************************************************************************************************************************************************************************************
18.222.149.39              : ok=5    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
18.224.52.109              : ok=5    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
52.15.82.79                : ok=5    changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
localhost                  : ok=34   changed=27   unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

